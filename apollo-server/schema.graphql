schema {
    query: Query
    mutation: Mutation
}

type Mutation {
    login(loginForm: LoginForm!): User!
    register(registerForm: RegisterForm!): User!
    addJob(userId: String!, jobForm: JobForm!): Job!
    updateJob(userId: String!, jobForm: JobForm!): Job!
}

type Query {
    user(userId: String!): User!
    getJobs(page: Int!): JobsPage!
    getJobById(jobId: String!): Job!
    getUser(userId: String!): User!
}

type JobsPage {
    jobs: [Job!]!
    totalPages: Int!
}

type Job {
    jobId: String!
    company: String!
    referer: String!
    requiredFields: [String!]!
    deadline: Date!
    expiration: Int!
    referredCount: Int!
    referTotal: Int!
    imageUrl: String
    source: String
}

type User {
    email: String!
    experience: Int!
    intro: String
    jobId: String!
    leetCodeUrl: String
    name: String!
    phone: String
    resumeUrl: String
    thirdPersonIntro: String
    userId: String!
}


input LoginForm {
    email: String!
    password: String!
}

input RegisterForm {
    email: String!
    password: String!
}

input JobForm {
    jobId: String!
    company: String!
    referer: String!
    requiredFields: [String!]!
    deadline: Date!
    expiration: Int!
    referredCount: Int!
    referTotal: Int!
    imageUrl: String
    source: String
}


"The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf)."
scalar JSON
scalar Date
scalar Phone

"The `Upload` scalar type represents a file upload."
scalar Upload
